# 猫叫声类型详细说明

## 文件夹结构

系统支持9种猫叫声类型，需要在服务器上创建对应的文件夹：

```
config/cat_sounds/
├── meow/        # 喵 - 求关注、撒娇、期待、轻微抱怨
├── purr/        # 呼噜 - 放松、满足、安全感
├── trill/       # 咕噜咕噜/颤音 - 友好、欢迎
├── chattering/  # 咔咔/啾啾 - 兴奋、专注、略挫败
├── hiss/        # 哈气 - 恐惧、防御、警告
├── growl/       # 低吼/咆哮 - 威胁、愤怒、防御升级
├── yowl/        # 嚎叫/长嗷 - 发情、压力、焦虑、疼痛
├── scream/      # 尖叫/惨叫 - 突然疼痛、强烈惊吓
└── mutter/      # 嘟嘟嘟不满声/咕哝 - 不耐烦、轻度烦躁
```

## 各类型详细说明

### 1. 喵（Meow）

**对人沟通为主：想要你做点什么**

**可能情绪：**
- 求关注
- 撒娇
- 期待（喂食/开门）
- 轻微抱怨

**线索：**
- 短、轻、软：友好/打招呼/想互动
- 长、重复、变大声：不耐烦、要求更强、焦虑感上升
- 很尖或突然拔高：受惊、不舒服

**识别关键词：**
- 中文：求关注、撒娇、期待、喂食、开门、轻微抱怨、友好、打招呼、想互动、不耐烦、要求、焦虑、受惊、不舒服、喵、叫
- 英文：attention, cute, expect, feed, open, slight, friendly, greet, interact, impatient, demand, anxious, startled, uncomfortable, meow

### 2. 呼噜（Purr）

**常见情绪：**
- 放松
- 满足
- 安全感

**但也可能：**
- 紧张时自我安抚
- 疼痛或不适（有些猫会在不舒服时呼噜）

**线索：**
- 看身体：是否放松、揉踩、慢眨眼
- 若蜷缩、躲、食欲差还呼噜，要留意健康

**识别关键词：**
- 中文：放松、满足、安全感、舒适、惬意、安心、呼噜
- 英文：relaxed, satisfied, safe, comfortable, content, secure, purr

### 3. 咕噜咕噜/颤音（Trill / Chirrup）

**常见情绪：**
- 友好
- 欢迎
- 想你跟着它（带路去吃的/去某个地方）

**常见场景：**
- 你回家
- 它在你脚边绕
- 走两步回头叫你

**识别关键词：**
- 中文：友好、欢迎、想你、带路、回家、绕、咕噜、颤音
- 英文：friendly, welcome, miss, guide, home, around, trill, chirrup

### 4. 咔咔/啾啾（Chattering / Chirping）

**常见状态：**
- 高度兴奋
- 强烈捕猎欲/挫败感（想抓又抓不到）

**情绪更像：**
- 兴奋
- 专注
- 略挫败

**识别关键词：**
- 中文：兴奋、专注、挫败、捕猎、想抓、咔咔、啾啾
- 英文：excited, focused, frustrated, hunt, catch, chattering, chirping

### 5. 哈气（Hiss）

**情绪：**
- 恐惧
- 防御
- 警告（"别靠近"）

**不是"坏脾气"，更多是觉得不安全**

**常伴随：**
- 耳朵后压
- 身体低伏
- 炸毛

**识别关键词：**
- 中文：恐惧、防御、警告、不安全、别靠近、哈气
- 英文：fear, defense, warning, unsafe, away, hiss

### 6. 低吼/咆哮（Growl）

**情绪：**
- 威胁感强
- 愤怒/防御升级
- 领地冲突

**常见场景：**
- 陌生猫/狗靠近
- 护食护地
- 被逼到角落

**识别关键词：**
- 中文：威胁、愤怒、防御升级、领地、冲突、低吼、咆哮
- 英文：threat, angry, defense, territory, conflict, growl

### 7. 嚎叫/长嗷（Yowl / Howl）

**可能含义跨度大：**

1. **发情相关**（尤其未绝育）
2. **压力/焦虑**、寻找同伴
3. **疼痛或身体不适**
4. **老年猫认知变化**（夜里嚎叫更常见）

**线索：**
- 是否突然开始
- 是否伴随厕所问题/食欲变化/摸哪里会痛

**识别关键词：**
- 中文：发情、压力、焦虑、寻找、疼痛、不适、嚎叫、长嗷
- 英文：heat, stress, anxiety, search, pain, discomfort, yowl, howl

### 8. 尖叫/惨叫（Scream）

**通常是：**
- 突然疼痛
- 强烈惊吓
- 打架时受伤

**这种一般要立刻检查是否受伤或被卡住**

**识别关键词：**
- 中文：突然疼痛、强烈惊吓、受伤、被卡、尖叫、惨叫
- 英文：sudden pain, strong shock, injured, stuck, scream

### 9. "嘟嘟嘟"不满声/咕哝（Mutter / Grumble）

**常见情绪：**
- 不耐烦
- 轻度烦躁
- 抗议

**场景：**
- 被抱太久
- 剪指甲
- 被打扰睡觉

**识别关键词：**
- 中文：不耐烦、烦躁、抗议、被打扰、嘟嘟、咕哝
- 英文：impatient, annoyed, protest, disturbed, mutter, grumble

## 识别优先级

系统按以下优先级识别猫叫声类型：

1. **标签格式**（最高优先级）
   - `[sound:meow]` 或 `<sound>purr</sound>`
   - `猫叫:chattering` 或 `叫声:growl`

2. **关键词匹配**（按严重程度）
   - 最严重：scream → yowl → growl → hiss
   - 中等：chattering → mutter
   - 友好：trill → purr
   - 通用：meow（默认）

3. **默认类型**
   - 如果无法识别，使用默认类型：`meow`

## 文件选择机制

每个文件夹中可以放置多个音频文件，系统会：
1. 扫描文件夹中的所有音频文件（.wav, .mp3, .ogg, .m4a）
2. **随机选择**其中一个文件播放
3. 每次对话可能播放不同的文件，增加变化性

## 使用建议

1. **每个类型至少准备3-5个文件**，增加随机性和自然度
2. **文件命名**：可以任意命名，系统会自动识别格式
3. **文件时长**：建议1-5秒，过长可能影响响应速度
4. **文件质量**：使用清晰的猫叫声音频

## 配置示例

在Web界面配置时：
- **猫叫声文件夹路径**：`config/cat_sounds`
- **默认猫叫声类型**：`meow`（当无法识别时使用）

## 大语言模型提示词建议

为了让系统准确识别猫叫声类型，可以在系统提示词中添加：

```
你是一只可爱的小猫。请根据你的情绪和状态，在回复中使用以下格式之一：

1. 使用标签格式：[sound:meow] 或 <sound>purr</sound>
2. 或在回复中包含对应的关键词

可用的猫叫声类型：
- meow: 求关注、撒娇、期待、轻微抱怨
- purr: 放松、满足、安全感
- trill: 友好、欢迎
- chattering: 兴奋、专注、略挫败
- hiss: 恐惧、防御、警告
- growl: 威胁、愤怒、防御升级
- yowl: 发情、压力、焦虑、疼痛
- scream: 突然疼痛、强烈惊吓
- mutter: 不耐烦、轻度烦躁
```

